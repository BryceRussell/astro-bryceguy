---
import { Element } from 'astro-json-element';
import * as themes from './themes.js';

interface Props {
    theme?: {};
}

const {
    theme={},
    ...attrs
} = Astro.props as Props

interface Theme {
	form?: {[attrs: string]: any};
}

const {
	form={},
} = theme as Theme

//Theme/Element defaults
var theme_object = {
    form: {
		tag: "form",
		...form,
		...attrs
	}
} as Theme

//Load theme from themes.js if specified
if (typeof theme === "string" && {...themes}.hasOwnProperty(theme)) {
	let _theme:Theme = themes[theme]
	Object.entries(_theme).forEach(([key, value]) => {
		theme_object[key] = {...theme_object[key], ...value}
	})
}
---

<Element {...theme_object.form}>
    <slot />
</Element>